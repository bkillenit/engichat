extends layout

block content
  h1= title
    p Chat for Class #{className}

  div(id="chatWrapper")
    div(id="messages")

    form(action="" data-room="#{className}")
      input(id="message" class="chat" data-id="#{id}" autocomplete="off")

  div(id="whiteboardWrapper")
    div(id="whiteboardButton") Draw On Whiteboard
    canvas(id="whiteboardCanvas")

  script(src="https://cdn.socket.io/socket.io-1.2.0.js")
  script(src="http://code.jquery.com/jquery-1.11.1.js")
  script.
    $( document ).ready(function() {
        $('#whiteboardButton').on('click', function(){
          alert('yay');
        })
    });

  script.
    var socket = io();
    $('form').submit(function(){
      socket.emit('chat message', $('#message').val(), $('form').data('room'));
      $('#message').val('');
      return false;
    });
    socket.on($('form').data('room') + ' message', function(msg){
      $('#messages').append($('<li>').text(msg));
    });